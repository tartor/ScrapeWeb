<div class="content">
  <h3>Login</h3>
  <br />
  <p>Please enter your login credentials.</p>
  <br />
  <form #form="ngForm" (ngSubmit)="onSubmit()">
    <div class="login">
      <label for="username">Username</label>
      <div>
        <input name="username"
               placeholder="Required"
               [(ngModel)]="username"
               #usernameField="ngModel"
               required />
        @if(usernameField.invalid && (usernameField.dirty || usernameField.touched))
        {
        @for(err of usernameField.errors?.['server']; track err){
        <div class="error">{{ err }}</div>
        }
        @if(usernameField.errors?.['required']){
        <div class="error">Username is required.</div>
        }
        }
      </div>

      <label for="password">Password</label>
      <div>
        <input name="password"
               type="password"
               placeholder="Required"
               [(ngModel)]="password"
               #passwordField="ngModel"
               required />
        @if(passwordField.invalid && (passwordField.dirty || passwordField.touched))
        {
        @for(err of passwordField.errors?.['server']; track err){
        <div class="error">{{ err }}</div>
        }
        @if(passwordField.errors?.['required']){
        <div class="error">Password is required.</div>
        }
        }
      </div>

      <div></div>
      <div>
        <button [disabled]="isProcessing()">
          Login
        </button>

        @if (error()) {
        <div class="error">{{ error() }}</div>
        }
      </div>
    </div>
  </form>
</div>
